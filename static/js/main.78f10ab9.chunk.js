(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(28),r=a.n(s),i=(a(79),a(4)),o=a(5),c=a(10),m=a(9),d=a(23),u=a(11),h=a(6),p=a.n(h),g="https://schedule-app.cfapps.io",f="https://schedule-app.cfapps.io/jpa",v={0:"Opening / 6am-1pm",1:"Milk-morning / 7am-2pm",2:"Junior / 7am-2pm",3:"Junior / 8am-3pm",4:"Shot / 1pm-6pm",5:"Milk / 2pm-7pm",6:"Junior / 2pm-7pm"},E={4:"Opening Senior Barista",3:"Shot Barista",2:"Milk Barista",1:"Pourover Junior Barista",0:"Register Junior Barista"},b=["Manager","Barista","Cook","Clean"],y={1:"Mon",2:"Tue",3:"Wed",4:"Thur",5:"Fri",6:"Sat",7:"Sun"},N=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"executeJwtAuthenticationService",value:function(e,t){return p.a.post("".concat(g,"/authenticate"),{username:e,password:t})}},{key:"registerSuccessfulLoginForJwt",value:function(e,t){console.log("registerSuccessfulLoginForJwt..."),sessionStorage.setItem("authenticatedUser",e),this.setupAxiosInterceptors(this.createJWTToken(t))}},{key:"createJWTToken",value:function(e){return"Bearer "+e}},{key:"executeBasicAuthenticationService",value:function(e,t){var a=this.createBaiscAuthToken(e,t);return p.a.get("".concat(g,"/basicauth"),{headers:{authorization:a}})}},{key:"createBaiscAuthToken",value:function(e,t){return"Basic "+window.btoa(e+":"+t)}},{key:"registerSuccessfulLogin",value:function(e,t){console.log("registerSuccessfulLogin..."),sessionStorage.setItem("authenticatedUser",e),this.setupAxiosInterceptors(this.createBaiscAuthToken(e,t))}},{key:"logout",value:function(){sessionStorage.removeItem("authenticatedUser")}},{key:"isUserLoggedIn",value:function(){return null!==sessionStorage.getItem("authenticatedUser")}},{key:"getUserLoggedIn",value:function(){var e=sessionStorage.getItem("authenticatedUser");return null!==e&&e}},{key:"setupAxiosInterceptors",value:function(e){var t=this;p.a.interceptors.request.use((function(a){return t.isUserLoggedIn()&&(a.headers.authorization=e),a}))}}]),e}()),k=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return N.isUserLoggedIn()?l.a.createElement(u.b,this.props):l.a.createElement(u.a,{to:"/login"})}}]),a}(n.Component),S=a(68),O=a(2);function w(e){return 2===e.loginStatus?l.a.createElement("div",{className:"alert alert-warning"},"Invalid Credential! Please enter your username and password again!"):l.a.createElement("div",{className:"alert alert-secondary"},"Please enter your username and password!")}var j=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={username:"Mazarine Coffee",password:"",loginStatus:0},n.loginClicked=n.loginClicked.bind(Object(O.a)(n)),n.handleChange=n.handleChange.bind(Object(O.a)(n)),n}return Object(o.a)(a,[{key:"loginClicked",value:function(){var e=this;console.log("loginClicked..."),N.executeJwtAuthenticationService(this.state.username,this.state.password).then((function(t){N.registerSuccessfulLoginForJwt(e.state.username,t.data.token),e.setState({loginStatus:1}),e.props.history.push("/welcome/".concat(e.state.username))})).catch((function(){console.log("error"),e.setState({loginStatus:2})}))}},{key:"handleChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"Login"),l.a.createElement(w,{loginStatus:this.state.loginStatus}),l.a.createElement("div",{className:"container"},"User Name: ",l.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),"Password: ",l.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),l.a.createElement("button",{className:"btn btn-success",onClick:this.loginClicked},"Login")))}}]),a}(n.Component),M=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=N.isUserLoggedIn();return l.a.createElement("header",null,l.a.createElement("h1",null,"Todo App"),l.a.createElement("div",{className:"font-italic font-weight-lighter"},"Aim to help you organizing tasks nicely."),l.a.createElement("nav",{className:"navbar navbar-expand-md  text-white bg-secondary"},l.a.createElement("div",null,l.a.createElement("a",{className:"navbar-brand text-info",href:"/"},l.a.createElement("img",{src:"https://www.clker.com/cliparts/Z/E/c/1/z/X/icon-hause-gray-md.png",width:"40",height:"40",alt:"Home Icon"}),"Home")),e&&l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",null,l.a.createElement(d.b,{to:"/welcome/".concat(N.getUserLoggedIn()),className:"nav-link text-white"},"Welcome")),l.a.createElement("li",null,l.a.createElement(d.b,{to:"/todos",className:"nav-link text-white"},"Todos")),l.a.createElement("li",null,l.a.createElement(d.b,{to:"/employees",className:"nav-link text-white"},"Employees")),l.a.createElement("li",null,l.a.createElement(d.b,{to:"/schedule",className:"nav-link text-white"},"Schedule"))),l.a.createElement("ul",{className:"navbar-nav navbar-collapse justify-content-end"},!e&&l.a.createElement("li",null,l.a.createElement(d.b,{to:"/login",className:"nav-link text-white"},"Login")),e&&l.a.createElement("li",null,l.a.createElement(d.b,{to:"/logout",className:"nav-link text-white",onClick:N.logout},"Logout")))),l.a.createElement("hr",null))}}]),a}(n.Component),x=Object(u.g)(M),C=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getTodoList",value:function(e){return p.a.get("".concat(f,"/users/").concat(e,"/todos"))}},{key:"getTodo",value:function(e,t){return p.a.get("".concat(f,"/users/").concat(e,"/todos/").concat(t))}},{key:"deleteTodo",value:function(e,t){return p.a.delete("".concat(f,"/users/").concat(e,"/todos/").concat(t))}},{key:"updateTodo",value:function(e,t,a){return p.a.put("".concat(f,"/users/").concat(e,"/todos/").concat(t),a)}},{key:"createTodo",value:function(e,t){return p.a.post("".concat(f,"/users/").concat(e,"/todos"),t)}}]),e}()),D=a(21),U=a.n(D),L=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={todos:[],message:"",errorMessage:""},n.getUpdatedTodoList=n.getUpdatedTodoList.bind(Object(O.a)(n)),n.StatusComponent=n.StatusComponent.bind(Object(O.a)(n)),n.handleDeleteTodo=n.handleDeleteTodo.bind(Object(O.a)(n)),n.handleUpdateTodo=n.handleUpdateTodo.bind(Object(O.a)(n)),n.handleError=n.handleError.bind(Object(O.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"mx-md-3"},l.a.createElement("h2",null,"Todo List"),this.state.message&&l.a.createElement("div",{className:"alert alert-success"},this.state.message),this.state.errorMessage&&l.a.createElement("div",{className:"alert alert-warning"},this.state.errorMessage),l.a.createElement("div",{className:"text-left"},"Username: ",N.getUserLoggedIn()),l.a.createElement("table",{className:"table table-striped table-bordered table-hover table-sm"},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Id"),l.a.createElement("th",null,"Description"),l.a.createElement("th",null,"Target Date"),l.a.createElement("th",null,"Is Completed?"),l.a.createElement("th",null,"Note"),l.a.createElement("th",null,"Update"),l.a.createElement("th",null,"Delete?"))),l.a.createElement("tbody",null,this.state.todos.sort((function(e,t){return e.id-t.id})).map((function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.description),l.a.createElement("td",null,U()(t.targetDate).format("MM-DD-YYYY").toString()),l.a.createElement("td",null,e.StatusComponent(t.complete)),l.a.createElement("td",{className:"text-wrap"},t.note),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.handleUpdateTodo(t.id)}},"Update")),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.handleDeleteTodo(t.id)}},"Delete")))})))),l.a.createElement("div",{className:"text-monospace"},l.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.handleUpdateTodo(-1)}},"Create New Todo")))}},{key:"handleUpdateTodo",value:function(e){this.props.history.push("/todos/".concat(e))}},{key:"handleDeleteTodo",value:function(e){var t=this,a=N.getUserLoggedIn();C.deleteTodo(a,e).then((function(n){t.getUpdatedTodoList(a),t.setState({message:"Delete Todo ".concat(e," successfully. ")})})).catch((function(e){t.handleError(e)}))}},{key:"getUpdatedTodoList",value:function(e){var t=this;C.getTodoList(e).then((function(e){t.setState({todos:e.data})})).catch((function(e){t.handleError(e)}))}},{key:"handleError",value:function(e){var t="";e.message&&(t+=e.message),e.response&&e.response.data&&(t+=e.response.data.message),this.setState({errorMessage:t})}},{key:"componentDidMount",value:function(){var e=N.getUserLoggedIn();this.getUpdatedTodoList(e)}},{key:"StatusComponent",value:function(e){return e?l.a.createElement("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTUGc2FLh7VKR_AAzrukRd_QvI07IbsIhOG2uRJnamwxuy_cRZq&usqp=CAU",alt:"Yes",width:"20",height:"20"}):l.a.createElement("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQbhkd7ClFrxCmnOUfGks0PAtSOOjike3k0Fhoxs6u4AWZpgprK&usqp=CAU",alt:"No",width:"20",height:"20"})}}]),a}(n.Component),T=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("footer",{className:"footer"},l.a.createElement("span",{className:"text-light"},"All rights reserved 2020 @ZhiminCai"))}}]),a}(n.Component),W=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"executeHelloWorldService",value:function(){return p.a.get("http://localhost:8080/hello-world")}},{key:"executeHelloWorldBeanService",value:function(){return p.a.get("http://localhost:8080/hello-world-bean")}},{key:"executeHelloWorldPathVariableService",value:function(e){return p.a.get("http://localhost:8080/hello-world/path-variable/".concat(e))}}]),e}()),A=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={WelcomeMessage:"",ErrorMessage:""},n.retrieveWelcomeMessage=n.retrieveWelcomeMessage.bind(Object(O.a)(n)),n.handleSuccessfulReponse=n.handleSuccessfulReponse.bind(Object(O.a)(n)),n.handleError=n.handleError.bind(Object(O.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,this.state.ErrorMessage&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container alert alert-warning"},this.state.ErrorMessage),l.a.createElement("div",{className:"container"},"Click here to try it again.",l.a.createElement("button",{onClick:function(){return e.retrieveWelcomeMessage(e.props.match.params.name)},className:"btn btn-success"},"Get Welcome Msg"))),!this.state.ErrorMessage&&l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"container"},!this.state.WelcomeMessage&&l.a.createElement("div",{className:"alert alert-success"},"Your account has been Logged in Succesfully!"),l.a.createElement("img",{src:"https://media1.giphy.com/media/26BRDSqaGfvWafqms/giphy.gif?cid=ecf05e47b62799232e77b8e541479d2a2e146b39ad808e8d&rid=giphy.gif",alt:"success welcome"}),l.a.createElement("p",null,l.a.createElement("b",null,this.state.WelcomeMessage)),"You can manage your todos ",l.a.createElement(d.b,{to:"/todos"},"here"),"."),!this.state.WelcomeMessage&&l.a.createElement("div",{className:"container text-monospace"},l.a.createElement("button",{onClick:function(){return e.retrieveWelcomeMessage(e.props.match.params.name)},className:"btn btn-success"},"Create Customized Welcome Message"))))}},{key:"retrieveWelcomeMessage",value:function(e){var t=this;W.executeHelloWorldPathVariableService(e).then((function(e){return t.handleSuccessfulReponse(e)})).catch((function(e){return t.handleError(e)}))}},{key:"handleSuccessfulReponse",value:function(e){this.setState({WelcomeMessage:e.data.message})}},{key:"handleError",value:function(e){var t="";e.message&&(t+=e.message),e.response&&e.response.data&&(t+=e.response.data.message),console.log(t),this.setState({ErrorMessage:t})}}]),a}(n.Component);var I=function(){return l.a.createElement("div",null,"An Error Ocurred. Please contack support at 888-000-111.")},P=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"You are logged out"),l.a.createElement("div",{className:"container"},"Thanks for using our application!"))}}]),a}(n.Component),_=a(3),Y=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={id:Number(n.props.match.params.id),description:"description.",complete:!1,targetDate:U()(new Date).format("YYYY-MM-DD"),note:"no thing new here...",errorMessage:""},n.onSubmit=n.onSubmit.bind(Object(O.a)(n)),n.validate=n.validate.bind(Object(O.a)(n)),n.handleError=n.handleError.bind(Object(O.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(-1!==this.state.id){var t=N.getUserLoggedIn();C.getTodo(t,this.state.id).then((function(t){e.setState({description:t.data.description,complete:Boolean(t.data.complete),targetDate:U()(t.data.targetDate).format("YYYY-MM-DD"),note:t.data.note})}))}}},{key:"onSubmit",value:function(e){var t=this,a=N.getUserLoggedIn();e.username=a,e.id=this.state.id,-1===this.state.id?C.createTodo(a,e).then((function(e){t.props.history.push("/todos")})).catch((function(e){t.handleError(e)})):C.updateTodo(a,this.state.id,e).then((function(e){t.props.history.push("/todos")})).catch((function(e){t.handleError(e)}))}},{key:"handleError",value:function(e){var t="";e.message&&(t+=e.message),e.response&&e.response.data&&(t+=e.response.data.message),this.setState({errorMessage:t})}},{key:"validate",value:function(e){var t={};return e.description?e.description.length<5&&(t.description="Please enter more than 5 charaters description."):t.description="Please enter your Todo's description.",U()(e.targetDate).isValid()||(t.targetDate="Please select a valid date for accomplishing your target."),t}},{key:"render",value:function(){var e=this.state,t=e.id,a=e.description,n=e.targetDate,s=e.complete,r=e.note;return l.a.createElement("div",null,t>=0&&l.a.createElement("h3",null," Update Todo [",t,"]"),-1===t&&l.a.createElement("h3",null," Create Todo"),this.state.errorMessage&&l.a.createElement("div",{className:"alert alert-warning"},this.state.errorMessage),l.a.createElement("div",{className:"container"},l.a.createElement(_.d,{initialValues:{description:a,targetDate:n,complete:s,note:r},onSubmit:this.onSubmit,validateOnBlur:!1,validateOnChange:!1,validate:this.validate,enableReinitialize:!0},(function(e){return l.a.createElement(_.c,{className:"text-left"},l.a.createElement("div",null,l.a.createElement(_.a,{name:"description",component:"div",className:"alert alert-warning"}),l.a.createElement(_.a,{name:"targetDate",component:"div",className:"alert alert-warning"}),l.a.createElement(_.a,{name:"isCompleted",component:"div",className:"alert alert-warning"})),l.a.createElement("fieldset",{className:"form-group"},l.a.createElement("label",{className:"font-weight-bold"},"Description"),l.a.createElement(_.b,{className:"form-control",type:"text",name:"description",id:"description"}),l.a.createElement("small",{className:"form-text text-muted text-centers"},"Describe what you will accomplish in here.")),l.a.createElement("div",{className:"form-row"},l.a.createElement("fieldset",{className:"form-group col-md-6"},l.a.createElement("label",{className:"font-weight-bold"},"Target Date"),l.a.createElement(_.b,{className:"form-control",type:"date",name:"targetDate"})),l.a.createElement("fieldset",{className:"form-group col-md-6"},l.a.createElement("label",{className:"font-weight-bold"},"Is Completed?"),l.a.createElement(_.b,{className:"form-control",as:"select",name:"complete",placeholder:"Please select the status."},l.a.createElement("option",{value:"true"},"Yes."),l.a.createElement("option",{value:"false"},"Still working on it.")))),l.a.createElement("fieldset",{className:"form-group"},l.a.createElement("label",{className:"font-weight-bold"},"Note"),l.a.createElement(_.b,{className:"form-control",type:"text",name:"note"}),l.a.createElement("small",{className:"form-text text-muted"},"Take notes about your plans, your timelines, and everything else.")),l.a.createElement("button",{type:"submit",className:"btn btn-success"},"Update"))}))))}}]),a}(n.Component),B=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getEmployeeList",value:function(e){return p.a.get("".concat(g,"/users/").concat(e,"/employees"))}},{key:"getEmployee",value:function(e,t){return p.a.get("".concat(g,"/users/").concat(e,"/employees/").concat(t))}},{key:"deleteEmployee",value:function(e,t){return p.a.delete("".concat(g,"/users/").concat(e,"/employees/").concat(t))}},{key:"updateEmployee",value:function(e,t,a){return p.a.put("".concat(g,"/users/").concat(e,"/employees/").concat(t),a)}},{key:"createEmployee",value:function(e,t){return p.a.post("".concat(g,"/users/").concat(e,"/employees"),t)}}]),e}()),F=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getAvailibilityList",value:function(e){return p.a.get("".concat(g,"/users/").concat(e,"/availibilities"))}},{key:"getAvailibility",value:function(e,t){return p.a.get("".concat(g,"/users/").concat(e,"/availibilities/").concat(t))}},{key:"deleteAvailibility",value:function(e,t){return p.a.delete("".concat(g,"/users/").concat(e,"/availibilities/").concat(t))}},{key:"updateAvailibility",value:function(e,t,a){return p.a.put("".concat(g,"/users/").concat(e,"/availibilities/").concat(t),a)}},{key:"createAvailibility",value:function(e,t){return p.a.post("".concat(g,"/users/").concat(e,"/availibilities"),t)}}]),e}()),R=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={employees:[],avalibility:[],message:"",errorMessage:""},n.getUpdatedData=n.getUpdatedData.bind(Object(O.a)(n)),n.AvailibilityComponent=n.AvailibilityComponent.bind(Object(O.a)(n)),n.handleDeleteEmployee=n.handleDeleteEmployee.bind(Object(O.a)(n)),n.handleUpdateEmployee=n.handleUpdateEmployee.bind(Object(O.a)(n)),n.handleError=n.handleError.bind(Object(O.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"mx-md-3"},l.a.createElement("h2",null,"Employees"),this.state.message&&l.a.createElement("div",{className:"alert alert-success"},this.state.message),this.state.errorMessage&&l.a.createElement("div",{className:"alert alert-warning"},this.state.errorMessage),l.a.createElement("div",{className:"text-left"},"Username: ",N.getUserLoggedIn()),l.a.createElement("table",{className:"table table-striped table-bordered table-hover table-sm"},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Id"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Position"),l.a.createElement("th",null,"Level"),l.a.createElement("th",null,"Start Date"),l.a.createElement("th",null,"Shift Limit Weekly"),l.a.createElement("th",null,"Avalibility Weekly"),l.a.createElement("th",null,"Update"),l.a.createElement("th",null,"Delete?"))),l.a.createElement("tbody",null,this.state.employees.map((function(t,a){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.employeeName),l.a.createElement("td",null,t.position),l.a.createElement("td",null,t.level),l.a.createElement("td",null,U()(t.startDate).format("MM-DD-YYYY").toString()),l.a.createElement("td",null,t.shiftLimitWeekly),l.a.createElement("td",null,e.AvailibilityComponent(a)),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.handleUpdateEmployee(t.id)}},"Update")),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.handleDeleteEmployee(t.id)}},"Delete")))})))),l.a.createElement("div",{className:"text-monospace"},l.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.handleUpdateEmployee(-1)}},"Create New Employee")))}},{key:"handleUpdateEmployee",value:function(e){this.props.history.push("/employees/".concat(e))}},{key:"handleDeleteEmployee",value:function(e){var t=this,a=N.getUserLoggedIn();B.deleteEmployee(a,e).catch((function(e){t.handleError(e)})),F.deleteAvailibility(a,e).then((function(n){t.getUpdatedData(a),t.setState({message:"Delete Employee ".concat(e," successfully. ")})})).catch((function(e){t.handleError(e)}))}},{key:"getUpdatedData",value:function(e){var t=this;B.getEmployeeList(e).then((function(e){t.setState({employees:e.data.sort((function(e,t){return e.id-t.id}))})})).catch((function(e){t.handleError(e)})),F.getAvailibilityList(e).then((function(e){t.setState({avalibility:e.data.sort((function(e,t){return e.id-t.id}))})})).catch((function(e){t.handleError(e)}))}},{key:"handleError",value:function(e){var t=this.state.message;e.message&&(t+=e.message),e.response&&e.response.data&&(t+=e.response.data.message),this.setState({errorMessage:t})}},{key:"componentDidMount",value:function(){var e=N.getUserLoggedIn();this.getUpdatedData(e)}},{key:"AvailibilityComponent",value:function(e){var t=this.state.avalibility[e];if("undefined"!==typeof t)return l.a.createElement("ul",{className:"list-group list-group-horizontal-sm"},l.a.createElement("li",{className:"list-group-item flex-fill list-group-item-secondary"},"Mon ",l.a.createElement("div",null,t.avMon)),l.a.createElement("li",{className:"list-group-item flex-fill bg-white text-dark"},"Tue ",l.a.createElement("div",null,t.avTue)),l.a.createElement("li",{className:"list-group-item flex-fill list-group-item-secondary"},"Wed ",l.a.createElement("div",null,t.avWed)," "),l.a.createElement("li",{className:"list-group-item flex-fill bg-white text-dark"},"Thur ",l.a.createElement("div",null,t.avThur)),l.a.createElement("li",{className:"list-group-item flex-fill list-group-item-secondary"},"Fri ",l.a.createElement("div",null,t.avFri)),l.a.createElement("li",{className:"list-group-item flex-fill bg-white text-dark"},"Sat ",l.a.createElement("div",null,t.avSat)),l.a.createElement("li",{className:"list-group-item flex-fill list-group-item-secondary"},"Sun ",l.a.createElement("div",null,t.avSun)))}}]),a}(n.Component),q=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={id:Number(n.props.match.params.id),employeeName:"name",position:"Barista",level:"0",startDate:U()(new Date).format("YYYY-MM-DD"),shiftLimitWeekly:"0",avMon:-1,avTue:-1,avWed:-1,avThur:-1,avFri:-1,avSat:-1,avSun:-1,errorMessage:""},n.onSubmit=n.onSubmit.bind(Object(O.a)(n)),n.validate=n.validate.bind(Object(O.a)(n)),n.handleError=n.handleError.bind(Object(O.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(-1!==this.state.id){var t=N.getUserLoggedIn();B.getEmployee(t,this.state.id).then((function(t){e.setState({employeeName:t.data.employeeName,position:t.data.position,level:t.data.level,startDate:U()(t.data.startDate).format("YYYY-MM-DD"),shiftLimitWeekly:t.data.shiftLimitWeekly})})),F.getAvailibility(t,this.state.id).then((function(t){e.setState({avMon:t.data.avMon,avTue:t.data.avTue,avWed:t.data.avWed,avThur:t.data.avThur,avFri:t.data.avFri,avSat:t.data.avSat,avSun:t.data.avSun})}))}}},{key:"onSubmit",value:function(e){var t=this,a=N.getUserLoggedIn(),n={username:a,id:this.state.id,employeeName:e.employeeName,position:e.position,level:e.level,startDate:U()(e.startDate).format("YYYY-MM-DD"),shiftLimitWeekly:e.shiftLimitWeekly},l={username:a,id:this.state.id,avMon:e.avMon,avTue:e.avTue,avWed:e.avWed,avThur:e.avThur,avFri:e.avFri,avSat:e.avSat,avSun:e.avSun};-1===this.state.id?B.createEmployee(a,n).then((function(e){l.id=e.data,F.createAvailibility(a,l).then((function(e){t.props.history.push("/employees")})).catch((function(e){t.handleError(e)}))})).catch((function(e){t.handleError(e)})):B.updateEmployee(a,this.state.id,n).then((function(){F.updateAvailibility(a,t.state.id,l).then((function(e){t.props.history.push("/employees")})).catch((function(e){t.handleError(e)}))})).catch((function(e){t.handleError(e)}))}},{key:"validate",value:function(e){var t={};e.employeeName?e.employeeName.length>20&&(t.employeeName="Please enter less than 20 charaters name."):t.employeeName="Employee's name is required.",e.startDate?U()(e.startDate).isValid()||(t.startDate="Please select a valid date for start date."):t.startDate="Employee's Start-Date is required.";e.position?-1===["Manager","Barista","Cook","Clean"].indexOf(e.position)&&(t.position="Please enter a valid position."):t.position="Employee's Position is required.",e.level||0===e.level?(0>e.level||e.level>4)&&(t.level="Please enter a valid level."):t.level="Employee's Level is required.",e.shiftLimitWeekly||0===e.shiftLimitWeekly?(0>e.shiftLimitWeekly||e.shiftLimitWeekly>=7)&&(t.shiftLimitWeekly="Please enter a valid shift-Limit-Weekly (0 - 7)."):t.shiftLimitWeekly="Shift-Limit-Weekly is required.";var a,n=[0,1,4,5],l=[0,4],s=[e.avMon,e.avTue,e.avWed,e.avThur,e.avFri,e.avSat,e.avSun],r=!1;for(a in s)if(""===s[a]||s[a]<-1||s[a]>6){r=!r;break}t.level||(r?t.avMon="Please select shift numbers within valid range.":e.level<=1?s.filter((function(e){return n.indexOf(Number(e))>=0})).length>0&&(t.avMon="Please select a valid shift(junior / register) according to the level."):e.level<=2?s.filter((function(e){return l.indexOf(Number(e))>=0})).length>0&&(t.avMon="Please select a valid shift(milk / junior / register) according to the level."):e.level<=3&&s.filter((function(e){return 0!==Number(e)})).length>0&&(t.avMon="Please select a valid shift(excluding openning shift) according to the level."));return t}},{key:"handleError",value:function(e){var t="";e.message&&(t+=e.message),e.response&&e.response.data&&(t+=e.response.data.message),this.setState({errorMessage:t})}},{key:"render",value:function(){var e=this.state,t=e.id,a=e.employeeName,n=e.position,s=e.level,r=e.startDate,i=e.shiftLimitWeekly,o=e.avMon,c=e.avFri,m=e.avSat,d=e.avSun,u=e.avThur,h=e.avTue,p=e.avWed;return l.a.createElement("div",null,t>=0&&l.a.createElement("h3",null," Update Employee [",t,"]"),-1===t&&l.a.createElement("h3",null," Create Employee"),this.state.errorMessage&&l.a.createElement("div",{className:"alert alert-warning"},this.state.errorMessage),l.a.createElement("div",{className:"container"},l.a.createElement(_.d,{initialValues:{employeeName:a,position:n,level:s,startDate:r,shiftLimitWeekly:i,avMon:o,avFri:c,avSat:m,avSun:d,avThur:u,avTue:h,avWed:p},onSubmit:this.onSubmit,validateOnBlur:!1,validateOnChange:!1,validate:this.validate,enableReinitialize:!0},(function(e){return l.a.createElement(_.c,{className:"text-left"},l.a.createElement("div",null,l.a.createElement(_.a,{name:"employeeName",component:"div",className:"alert alert-warning"}),l.a.createElement(_.a,{name:"startDate",component:"div",className:"alert alert-warning"}),l.a.createElement(_.a,{name:"position",component:"div",className:"alert alert-warning"}),l.a.createElement(_.a,{name:"level",component:"div",className:"alert alert-warning"}),l.a.createElement(_.a,{name:"shiftLimitWeekly",component:"div",className:"alert alert-warning"}),l.a.createElement(_.a,{name:"avMon",component:"div",className:"alert alert-warning"})),l.a.createElement("div",{className:"form-row"},l.a.createElement("fieldset",{className:"form-group col-md-6"},l.a.createElement("label",{className:"font-weight-bold"},"Employee Name"),l.a.createElement(_.b,{className:"form-control",type:"text",name:"employeeName"})),l.a.createElement("fieldset",{className:"form-group col-md-6"},l.a.createElement("label",{className:"font-weight-bold"},"Start Date"),l.a.createElement(_.b,{className:"form-control",type:"date",name:"startDate"}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("fieldset",{className:"form-group col-md-6"},l.a.createElement("label",{className:"font-weight-bold"},"Position"),l.a.createElement(_.b,{className:"form-control",type:"text",name:"position"}),l.a.createElement("small",{className:"form-text text-muted text-centers"},"Position: [Manager, Barista, Cook, Clean]")),l.a.createElement("fieldset",{className:"form-group col-md-6"},l.a.createElement("label",{className:"font-weight-bold"},"Level"),l.a.createElement(_.b,{className:"form-control",type:"int",name:"level"}),l.a.createElement("small",{className:"form-text text-muted text-centers"},"Level description: [4: opening / senior, 3: shot / senior, 2: milk / senior, 1: pourover / junior, 0: register / new]")),l.a.createElement("fieldset",{className:"form-group col-md-6"},l.a.createElement("label",{className:"font-weight-bold"},"Shift Limits Weekly"),l.a.createElement(_.b,{className:"form-control",type:"int",name:"shiftLimitWeekly"}),l.a.createElement("small",{className:"form-text text-muted text-centers"},"Please record here about number of shifts (0-7) the employee would like to take per week."))),l.a.createElement("div",{className:"form-row"},l.a.createElement("fieldset",{className:"form-group col-md-1"},l.a.createElement("label",{className:"font-weight-bold"},"Monday"),l.a.createElement(_.b,{className:"form-control",type:"int",name:"avMon"})),l.a.createElement("fieldset",{className:"form-group col-md-1"},l.a.createElement("label",{className:"font-weight-bold"},"Tuesday"),l.a.createElement(_.b,{className:"form-control",type:"int",name:"avTue"})),l.a.createElement("fieldset",{className:"form-group col-md-1"},l.a.createElement("label",{className:"font-weight-bold"},"Wednesday"),l.a.createElement(_.b,{className:"form-control",type:"int",name:"avWed"})),l.a.createElement("fieldset",{className:"form-group col-md-1"},l.a.createElement("label",{className:"font-weight-bold"},"Thurday"),l.a.createElement(_.b,{className:"form-control",type:"int",name:"avThur"})),l.a.createElement("fieldset",{className:"form-group col-md-1"},l.a.createElement("label",{className:"font-weight-bold"},"Friday"),l.a.createElement(_.b,{className:"form-control",type:"int",name:"avFri"})),l.a.createElement("fieldset",{className:"form-group col-md-1"},l.a.createElement("label",{className:"font-weight-bold"},"Saturday"),l.a.createElement(_.b,{className:"form-control",type:"int",name:"avSat"})),l.a.createElement("fieldset",{className:"form-group col-md-1"},l.a.createElement("label",{className:"font-weight-bold"},"Sunday"),l.a.createElement(_.b,{className:"form-control",type:"int",name:"avSun"})),l.a.createElement("small",{className:"form-text text-muted text-centers"},"Shift: [0: opening / 6am-1pm, 1: milk-morning / 7am-2pm, 2: junior / 7am-2pm, 3: junior / 8am-3pm, 4: senior / 1pm-6pm, 5: milk / 2pm-7pm, 6: junior / 2pm-7pm]")),l.a.createElement("button",{type:"submit",className:"btn btn-success"},"Update"))}))))}}]),a}(n.Component),V=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getShiftList",value:function(e){return p.a.get("".concat(g,"/users/").concat(e,"/shifts"))}},{key:"getShiftListOfDays",value:function(e){return p.a.get("".concat(g,"/users/").concat(e,"/shifts/days_of_week"))}},{key:"getShift",value:function(e,t){return p.a.get("".concat(g,"/users/").concat(e,"/shifts/").concat(t))}},{key:"deleteShift",value:function(e,t){return p.a.delete("".concat(g,"/users/").concat(e,"/shifts/").concat(t))}},{key:"updateShift",value:function(e,t,a){return p.a.put("".concat(g,"/users/").concat(e,"/shifts/").concat(t),a)}},{key:"createShift",value:function(e,t){return p.a.post("".concat(g,"/users/").concat(e,"/shifts"),t)}},{key:"assignNewEmployee",value:function(e,t,a){return p.a.get("".concat(g,"/users/").concat(e,"/shifts/").concat(t,"/assign/").concat(a))}}]),e}()),J=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getScheduledShiftList",value:function(e){return p.a.get("".concat(g,"/users/").concat(e,"/schedule"))}},{key:"clearSchedule",value:function(e){return p.a.delete("".concat(g,"/users/").concat(e,"/clear-schedule"))}},{key:"getMatchEmployeeList",value:function(e,t){return p.a.get("".concat(g,"/users/").concat(e,"/shift-match/").concat(t))}}]),e}()),z=a(27),G=a(73),H=a(129),Z=a(132),K=a(130),Q=a(131);var X=function(e){var t=Object(n.useState)(!1),a=Object(G.a)(t,2),s=a[0],r=a[1],i="Popover"+e.id;return l.a.createElement("div",null,l.a.createElement(H.a,{id:i,type:"button",color:e.color},"+"),l.a.createElement(Z.a,{trigger:"legacy",placement:"bottom",isOpen:s,target:i,toggle:function(){return r(!s)}},l.a.createElement(K.a,null,e.title),l.a.createElement(Q.a,null,e.body," ",s&&function(){if(e.body_func)return e.body_func.apply(e,Object(z.a)(e.inputs))}())))},$=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={shifts_Mon:[],shifts_Tue:[],shifts_Wed:[],shifts_Thur:[],shifts_Fri:[],shifts_Sat:[],shifts_Sun:[],message:"",errorMessage:""},n.getUpdatedData=n.getUpdatedData.bind(Object(O.a)(n)),n.handleDeleteShift=n.handleDeleteShift.bind(Object(O.a)(n)),n.handleUpdateShift=n.handleUpdateShift.bind(Object(O.a)(n)),n.handleCopyShift=n.handleCopyShift.bind(Object(O.a)(n)),n.handleError=n.handleError.bind(Object(O.a)(n)),n.getAssignedEmployeeName=n.getAssignedEmployeeName.bind(Object(O.a)(n)),n.getTableBody=n.getTableBody.bind(Object(O.a)(n)),n.reAssign=n.reAssign.bind(Object(O.a)(n)),n.handleSchedule=n.handleSchedule.bind(Object(O.a)(n)),n.handleClearAll=n.handleClearAll.bind(Object(O.a)(n)),n.showMatches=n.showMatches.bind(Object(O.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"mx-md-3"},l.a.createElement("h2",null,"Schedule"),this.state.message&&l.a.createElement("div",{className:"alert alert-success"},this.state.message),this.state.errorMessage&&l.a.createElement("div",{className:"alert alert-warning"},this.state.errorMessage),l.a.createElement("div",{className:"text-left"},"Username: ",N.getUserLoggedIn()),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("button",{type:"button",className:"btn btn-outline-success",onClick:this.handleSchedule},"Schedule")),l.a.createElement("button",{type:"button",className:"btn btn-outline-danger",onClick:this.handleClearAll},"Clear All")),l.a.createElement("table",{className:"table table-striped table-bordered table-hover table-sm"},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Day"),l.a.createElement("th",null,"Id"),l.a.createElement("th",null,"Position"),l.a.createElement("th",null,"Level"),l.a.createElement("th",null,"Time Slot"),l.a.createElement("th",null,"Assignment"),l.a.createElement("th",null,"Description"),l.a.createElement("th",null,"Note"),l.a.createElement("th",null,"Update"),l.a.createElement("th",null,"Delete"),l.a.createElement("th",null,"Copy"))),l.a.createElement("tbody",null,this.getTableBody())),l.a.createElement("div",{className:"text-monospace"},l.a.createElement("button",{className:"btn btn-outline-success",onClick:function(){return e.handleUpdateShift(-1)}},"Create New Shift")))}},{key:"handleSchedule",value:function(){var e=this,t=N.getUserLoggedIn();J.getScheduledShiftList(t).then((function(a){e.getUpdatedData(t,!0)})).catch((function(t){e.handleError(t)}))}},{key:"handleClearAll",value:function(){var e=this,t=N.getUserLoggedIn();J.clearSchedule(t).then((function(a){e.getUpdatedData(t,!0)})).catch((function(t){e.handleError(t)}))}},{key:"getTableBody",value:function(){var e=this;return[this.state.shifts_Mon,this.state.shifts_Tue,this.state.shifts_Wed,this.state.shifts_Thur,this.state.shifts_Fri,this.state.shifts_Sat,this.state.shifts_Sun].map((function(t,a){return t.map((function(n,s){return l.a.createElement("tr",{key:n.id},0===s&&l.a.createElement("th",{rowSpan:t.length,className:"text-info align-middle"}," ",y[a+1]),l.a.createElement("td",null,n.id),l.a.createElement("td",null,n.position),l.a.createElement("td",null,E[n.level]),l.a.createElement("td",null,v[n.timeSlot]),l.a.createElement("td",null,l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},e.getAssignedEmployeeName(n.assignedId,a,s)),l.a.createElement("div",null,l.a.createElement(X,{color:"outline-secondary",id:"matches-"+a+"-"+s,title:"Shift Matches:",body_func:e.showMatches,inputs:[n.id,a,s]})))),l.a.createElement("td",null,l.a.createElement(X,{color:"outline-info",id:"desc-"+a+"-"+s,title:"Shift Reponsibilities:",body:n.description})),l.a.createElement("td",null,n.note),l.a.createElement("td",null,l.a.createElement("button",{className:"btn-sm btn-outline-secondary",onClick:function(){return e.handleUpdateShift(n.id)}},"Update")),l.a.createElement("td",null,l.a.createElement("button",{className:"btn-sm btn-outline-warning",onClick:function(){return e.handleDeleteShift(n.id)}},"Delete")),l.a.createElement("td",null,l.a.createElement("button",{className:"btn-sm btn-outline-info",onClick:function(){return e.handleCopyShift(n.id)}},"Copy")))}))}))}},{key:"getAssignedEmployeeName",value:function(e,t,a){var n=this,s=N.getUserLoggedIn(),r="assigned-employee-name"+t+"-"+a;return e>=0?(B.getEmployee(s,e).then((function(e){null!==e&&null!==e.data&&(document.getElementById(r).innerText=e.data.employeeName)})).catch((function(e){n.handleError(e)})),l.a.createElement("div",{className:"btn btn-outline-dark",id:r},"dummy")):l.a.createElement("div",{className:"btn btn-outline-dark",id:r},"---")}},{key:"showMatches",value:function(e,t,a){var n=this,s=N.getUserLoggedIn(),r="select-matches-"+t+"/"+a;return e>=0&&J.getMatchEmployeeList(s,e).then((function(e){if(null!==e&&null!==e.data){var t="";e.data.map((function(e){return t+="<button type='button' value=".concat(e.id," class='btn btn-outline-info'>").concat(e.employeeName,"</button>"),null})),t+="<button type='button' value=-1 class='btn btn-outline-warning'>Clear</button>",document.getElementById(r).innerHTML=t}})).catch((function(e){n.handleError(e)})),l.a.createElement("div",{className:"btn-group",onClick:function(t){return n.reAssign(t,e)},"aria-label":"Button-Group",id:r,role:"group"},"...")}},{key:"reAssign",value:function(e,t){var a=this,n=N.getUserLoggedIn();console.log("new assigned e id: "+e.target.value+", shift_id: "+t),V.assignNewEmployee(n,t,e.target.value).then((function(e){a.getUpdatedData(n,!0)})).catch((function(e){a.handleError(e)}))}},{key:"handleUpdateShift",value:function(e){this.props.history.push("/shifts/".concat(e))}},{key:"handleCopyShift",value:function(e){this.props.history.push("/shifts/".concat(e+"-1"))}},{key:"handleDeleteShift",value:function(e){var t=this,a=N.getUserLoggedIn();V.deleteShift(a,e).then((function(e){t.getUpdatedData(a,!0)})).catch((function(e){t.handleError(e)}))}},{key:"getUpdatedData",value:function(e,t){var a=this;V.getShiftListOfDays(e).then((function(e){var n="";t&&(n="Modified successfully. "),a.setState({shifts_Mon:e.data[0],shifts_Tue:e.data[1],shifts_Wed:e.data[2],shifts_Thur:e.data[3],shifts_Fri:e.data[4],shifts_Sat:e.data[5],shifts_Sun:e.data[6],message:n}),console.log("get updated data....",a.state)})).catch((function(e){a.handleError(e)}))}},{key:"handleError",value:function(e){var t=this.state.message;e.message&&(t+=e.message),e.response&&e.response.data&&(t+=e.response.data.message),this.setState({errorMessage:t})}},{key:"componentDidMount",value:function(){var e=N.getUserLoggedIn();this.getUpdatedData(e,!1)}}]),a}(n.Component);var ee=function(e){return l.a.createElement("fieldset",{className:"form-group "+e.width_className},l.a.createElement("label",{className:"font-weight-bold"},e.label),l.a.createElement(_.b,{className:"form-control",as:"select",type:e.type,name:e.name},l.a.createElement("option",{value:e.init},"---- Please Select... ----"),!e.optionValues&&e.idxs.map((function(t){return l.a.createElement("option",{key:t,value:t},e.selections[t])})),e.optionValues&&"original"===e.optionValues&&e.idxs.map((function(t){return l.a.createElement("option",{key:t,value:e.selections[t]},e.selections[t])})),e.optionValues&&"original"!==e.optionValues&&e.idxs.map((function(t){return l.a.createElement("option",{key:t,value:e.optionValues[t]},e.selections[t])}))))},te=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={id:Number(n.props.match.params.id),isCopy:-1!==Number(n.props.match.params.id)&&"-1"===n.props.match.params.id.slice(-2),dayOfWeek:-1,position:"",level:"0",timeSlot:-1,assignedId:-1,description:"Responsibilities description.",note:"special note for the shift.",matchIds:[],matchEmployeeName:[],errorMessage:""},n.state.isCopy&&(n.state.id=n.props.match.params.id.slice(0,-2)),n.onSubmit=n.onSubmit.bind(Object(O.a)(n)),n.validate=n.validate.bind(Object(O.a)(n)),n.handleError=n.handleError.bind(Object(O.a)(n)),n.getUpdatedAssignedAndMatches=n.getUpdatedAssignedAndMatches.bind(Object(O.a)(n)),n.getMatches=n.getMatches.bind(Object(O.a)(n)),n.reAssign=n.reAssign.bind(Object(O.a)(n)),console.log("constructor ",n.state.id,n.state.isCopy,-1!==Number(n.props.match.params.id),n.props.match.params.id.slice(-2),n.props.match.params.id.slice(0,-2)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(console.log("componentDidMount"),-1!==this.state.id){var t=N.getUserLoggedIn();V.getShift(t,this.state.id).then((function(a){e.state.isCopy?e.setState({dayOfWeek:a.data.dayOfWeek,position:a.data.position,level:a.data.level,timeSlot:a.data.timeSlot,assignedId:-1,description:a.data.description,note:a.data.note}):e.setState({dayOfWeek:a.data.dayOfWeek,position:a.data.position,level:a.data.level,timeSlot:a.data.timeSlot,assignedId:a.data.assignedId,description:a.data.description,note:a.data.note}),e.getUpdatedAssignedAndMatches(t)})).catch((function(t){e.handleError(t)}))}}},{key:"getMatches",value:function(e,t,a){var n=this;J.getMatchEmployeeList(e,this.state.id).then((function(e){null!==e&&null!==e.data&&(e.data.forEach((function(e){t.push(e.id),a.push(e.employeeName)})),n.setState({matchIds:t,matchEmployeeName:a}))})).catch((function(e){n.handleError(e)}))}},{key:"getUpdatedAssignedAndMatches",value:function(e){var t=this,a=[],n=[];-1!==this.state.assignedId?B.getEmployee(e,this.state.assignedId).then((function(l){a.push(t.state.assignedId),n.push(l.data.employeeName),t.getMatches(e,a,n)})).catch((function(e){t.handleError(e)})):this.getMatches(e,a,n)}},{key:"onSubmit",value:function(e){var t=this;console.log("onSubmit");var a=N.getUserLoggedIn();e.username=a,e.id=this.state.id,e.assignedId=this.state.assignedId,this.state.isCopy&&(e.id=-1,e.assignedId=-1,console.log("Is copy: ",-1));var n=!1;e.dayOfWeek===this.state.dayOfWeek&&e.position===this.state.position&&e.level===this.state.level&&e.timeSlot===this.state.timeSlot||(n=!0,e.assignedId=-1),console.log("onSubmit: ",e),-1===e.id?(console.log("create "),V.createShift(a,e).then((function(l){t.setState({isCopy:!1,id:Number(l.data),dayOfWeek:e.dayOfWeek,position:e.position,level:e.level,timeSlot:e.timeSlot,assignedId:e.assignedId,description:e.description,note:e.note}),n&&t.getUpdatedAssignedAndMatches(a),console.log("create complete",t.state,l.data)})).catch((function(e){t.handleError(e)}))):V.updateShift(a,e.id,e).then((function(e){t.setState({dayOfWeek:e.data.dayOfWeek,position:e.data.position,level:e.data.level,timeSlot:e.data.timeSlot,assignedId:e.data.assignedId,description:e.data.description,note:e.data.note}),n&&t.getUpdatedAssignedAndMatches(a)})).catch((function(e){t.handleError(e)}))}},{key:"validate",value:function(e){console.log(e);var t={};return-1===Object.keys(v).indexOf(String(e.timeSlot))&&(t.timeSlot="Please select a valid time slot."+String(e.timeSlot)),-1===Object.keys(y).indexOf(String(e.dayOfWeek))&&(t.dayOfWeek="Please select a valid day of week."+String(e.dayOfWeek)),e.position?-1===b.indexOf(e.position)&&(t.position="Please select a valid position."):t.position="Shift's Position is required.",(0>e.level||e.level>=E.length)&&(t.level="Please select a valid level."),e.note&&e.note.length>300&&(t.note="Please enter less than 300 charaters note."),e.description?e.description.length>500&&(t.description="Please enter less than 500 charaters decription."):t.description="Shift's decription is required.",t}},{key:"handleError",value:function(e){console.log(e.name,e.response);var t="";e.message&&(t+=e.message+".    \n"),e.response&&e.response.data&&(t+=e.response.data.message),this.setState({errorMessage:t})}},{key:"reAssign",value:function(e){var t=this,a=N.getUserLoggedIn();-1===this.state.id?this.setState({errorMessage:"Please save shift's data first."}):(console.log("new assigned e id: "),console.log(e.target.value+", shift_id: "+this.state.id),V.assignNewEmployee(a,this.state.id,e.target.value).then((function(e){t.setState({assignedId:e.data.assignedId}),console.log("new assignment is completed ",t.state.assignedId)})).catch((function(e){t.handleError(e)})))}},{key:"render",value:function(){var e=this;console.log("render");var t=this.state,a=t.id,n=t.dayOfWeek,s=t.position,r=t.level,i=t.timeSlot,o=t.description,c=t.note;return l.a.createElement("div",null,a>=0&&l.a.createElement("h3",null," Update Shift [",a,"]"),-1===a&&l.a.createElement("h3",null," Create Shift"),this.state.errorMessage&&l.a.createElement("div",{className:"alert alert-warning"},this.state.errorMessage),l.a.createElement("div",{className:"container justify-content-center text-monospace mb-5"},l.a.createElement(_.d,{initialValues:{dayOfWeek:n,position:s,level:r,timeSlot:i,description:o,note:c},onSubmit:this.onSubmit,validateOnBlur:!1,validateOnChange:!1,validate:this.validate,enableReinitialize:!0},(function(e){return l.a.createElement(_.c,{className:"text-left"},l.a.createElement("div",null,l.a.createElement(_.a,{name:"dayOfWeek",component:"div",className:"alert alert-warning"}),l.a.createElement(_.a,{name:"timeSlot",component:"div",className:"alert alert-warning"}),l.a.createElement(_.a,{name:"position",component:"div",className:"alert alert-warning"}),l.a.createElement(_.a,{name:"level",component:"div",className:"alert alert-warning"}),l.a.createElement(_.a,{name:"description",component:"div",className:"alert alert-warning"}),l.a.createElement(_.a,{name:"note",component:"div",className:"alert alert-warning"})),l.a.createElement("div",{className:"form-row"},l.a.createElement(ee,{label:"Time Slot",type:"int",name:"timeSlot",init:-1,selections:v,idxs:Object(z.a)(Array(7).keys()),width_className:"col-md-5"}),l.a.createElement(ee,{label:"Day Of Week",type:"int",name:"dayOfWeek",init:-1,selections:y,idxs:Object(z.a)(Array(8).keys()).slice(1),width_className:"col-md-5"})),l.a.createElement("div",{className:"form-row"},l.a.createElement(ee,{label:"Position",type:"text",name:"position",init:"",selections:b,idxs:Object(z.a)(Array(4).keys()),width_className:"col-md-5",optionValues:"original"}),l.a.createElement(ee,{label:"Minimal Required Level",type:"int",name:"level",init:-1,selections:E,idxs:Object(z.a)(Array(5).keys()),width_className:"col-md-5"})),l.a.createElement("div",{className:"form-row"},l.a.createElement("fieldset",{className:"form-group col-md-10"},l.a.createElement("label",{className:"font-weight-bold"},"Description"),l.a.createElement(_.b,{className:"form-control",component:"textarea",rows:3,type:"textarea",name:"description"}),l.a.createElement("small",{className:"form-text text-muted text-centers"},"Please Describe Responsibilities about the position here."))),l.a.createElement("div",{className:"form-row"},l.a.createElement("fieldset",{className:"form-group col-md-10"},l.a.createElement("label",{className:"font-weight-bold"},"Note"),l.a.createElement(_.b,{className:"form-control",component:"textarea",rows:3,type:"textarea",name:"note"}),l.a.createElement("small",{className:"form-text text-muted text-centers"},"For Special Instructions."))),l.a.createElement("div",{className:"form-row  justify-content-center"},l.a.createElement("button",{type:"submit",className:"btn btn-warning"},"Save")))}))),l.a.createElement("div",{className:"card col-md-5 container bg-warning"},l.a.createElement("div",{className:"card-header bg-white  text-warning text-center"},"Please Save Above Changes to Load the Updated Match Employees."),l.a.createElement("div",{className:"card-body "},l.a.createElement("select",{className:"form-control",value:this.state.assignedId,defaultValue:-1,onChange:function(t){return e.reAssign(t)}},l.a.createElement("option",{value:-1},"---- Please Select... ----"),this.state.matchEmployeeName.map((function(t,a){return l.a.createElement("option",{value:e.state.matchIds[a],key:a},t)}))))))}}]),a}(n.Component),ae=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"todoApp",id:"content-wrap"},l.a.createElement(d.a,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(x,null),l.a.createElement(u.d,null,l.a.createElement(u.b,{path:"/",exact:!0,component:j}),l.a.createElement(u.b,{path:"/login",component:j}),l.a.createElement(k,{path:"/welcome/:name",component:A}),l.a.createElement(k,{path:"/todos",exact:!0,component:L}),l.a.createElement(k,{path:"/logout",component:P}),l.a.createElement(k,{path:"/todos/:id",component:Y}),l.a.createElement(k,{path:"/employees/:id",component:q}),l.a.createElement(k,{path:"/employees",component:R}),l.a.createElement(k,{path:"/schedule",component:$}),l.a.createElement(k,{path:"/shifts/:id",component:te}),l.a.createElement(u.b,{component:I})),l.a.createElement(T,null))))}}]),a}(n.Component),ne=(a(124),a(125),function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(ae,null))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e,t,a){e.exports=a(126)},79:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.78f10ab9.chunk.js.map